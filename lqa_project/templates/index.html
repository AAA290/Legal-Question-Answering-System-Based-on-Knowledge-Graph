<!-- index.html -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能法律咨询系统 - 首页</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .nav-header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .feature-card {
            transition: transform 0.3s, box-shadow 0.3s;
            border: none;
            border-radius: 12px;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .question-box {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 2rem;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark nav-header">
    <div class="container">
        <a class="navbar-brand" href="/index/">法智通</a>
        <div class="d-flex align-items-center">
            <span class="text-white me-3">欢迎，{{ user.name }}</span>
            <a href="/login/" class="btn btn-light btn-sm">退出</a>
        </div>
    </div>
</nav>

<div class="container my-5">
    <!-- 法律问答框 -->
{#    <div class="question-box mb-5">#}
{#        <h4 class="mb-4">请输入您的法律问题</h4>#}
{#        <div class="input-group">#}
{#            <input type="text" class="form-control" placeholder="例如：盗窃罪如何判刑？">#}
{#            <button class="btn btn-primary">智能问答</button>#}
{#        </div>#}
{#    </div>#}
    <div class="question-box mb-5">
        <h4 class="mb-4">请输入您的法律问题</h4>
        <div class="input-group">
            <input type="text" id="index-question" class="form-control" placeholder="例如：盗窃罪如何判刑？">
            <button class="btn btn-primary" onclick="redirectToQA()">智能问答</button>
        </div>
    </div>

    <!-- 功能入口 -->
    <div class="row g-4">
        <div class="col-md-6 col-lg-4">
            <div class="card feature-card h-100">
                <div class="card-body">
                    <h5><i class="fas fa-balance-scale me-2"></i>法律智能问答</h5>
                    <p class="text-muted">快速获取专业解答</p>
                    <a href="/qa/" class="stretched-link"></a>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-4">
            <div class="card feature-card h-100">
                <div class="card-body">
                    <h5><i class="fas fa-network-wired me-2"></i>知识图谱展示</h5>
                    <p class="text-muted">查看查询法律知识图谱</p>
                    <a href="/graph/" class="stretched-link"></a>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-4">
            <div class="card feature-card h-100">
                <div class="card-body">
                    <h5><i class="fas fa-project-diagram me-2"></i>流程动态演示</h5>
                    <p class="text-muted">查看智能问答全流程的演示</p>
                    <a href="/flowchart/" class="stretched-link"></a>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-4">
            <div class="card feature-card h-100">
                <div class="card-body">
                    <h5><i class="fas fa-gavel me-2"></i>罪名预测分析</h5>
                    <p class="text-muted">获取案由罪名预测及概率评估</p>
                    <a href="/crime_prediction/" class="stretched-link"></a>
                </div>
            </div>
        </div>
{#        <div class="col-md-6 col-lg-4">#}
{#            <div class="card feature-card h-100">#}
{#                <div class="card-body">#}
{#                    <h5><i class="fas fa-sitemap me-2"></i>法律实体识别</h5>#}
{#                    <p class="text-muted">交互式查看法律文本实体标注</p>#}
{#                    <a href="/decision_path/" class="stretched-link"></a>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
        <div class="col-md-6 col-lg-4">
            <div class="card feature-card h-100">
                <div class="card-body">
                    <h5><i class="fas fa-exchange-alt me-2"></i>问答系统对比</h5>
                    <p class="text-muted">与通用问答系统进行对比分析</p>
                    <a href="/comparison/" class="stretched-link"></a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function redirectToQA() {
        const question = document.getElementById('index-question').value.trim();
        if (!question) {
            alert("请输入您的法律问题！");
            return;
        }
        // 跳转到 qa.html，并把问题作为 query 参数传递过去
        window.location.href = `/qa/?question=${encodeURIComponent(question)}`;
    }
</script>

</body>
</html>

